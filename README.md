# Config Parser Bot

![Node.js](https://img.shields.io/badge/Node.js-v18+-green)
![GitHub Actions](https://img.shields.io/badge/GitHub_Actions-Enabled-blue)
![License](https://img.shields.io/badge/License-Custom_Copyright-red)
https://hamednourzaei.github.io/namira-endpoint/outputs/configs.txt

یه ربات قدرتمند و ماژولار برای دریافت، پردازش و ذخیره لینک‌های ساب‌اسکریپشن (مانند SS، VMess، VLESS و Trojan) از یه منبع آنلاین. این پروژه لینک‌ها رو فیلتر می‌کنه، تکراری‌ها رو حذف می‌کنه و خروجی رو به‌صورت فایل‌های `txt`، `json` و `csv` ذخیره می‌کنه. به لطف **GitHub Actions**، فایل‌های خروجی هر ۵ دقیقه به‌روزرسانی می‌شن (در صورت تغییر در ساب‌اسکریپشن).

این پروژه با یه ساختار تمیز و ماژولار طراحی شده که توسعه و نگهداری رو آسون می‌کنه. همچنین، با لاگینگ رنگی و مدیریت خطای قوی، تجربه کاربری جذابی ارائه می‌ده.

---

## ویژگی‌های کلیدی

- **پردازش لینک‌های ساب‌اسکریپشن**: پشتیبانی از پروتکل‌های SS، VMess، VLESS و Trojan.
  -linksub for import ![subscription](https://hamednourzaei.github.io/namira-endpoint/outputs/configs.txt)
- **فیلتر کردن بر اساس کشور**: فقط لینک‌هایی که شامل تگ‌های مشخص‌شده (مثل 🇩🇪، DE، Germany) باشن، پردازش می‌شن.
- **ذخیره خروجی در چند فرمت**:
  - `configs.txt`: لیست خام لینک‌ها.
  - `configs.json`: داده‌های ساختاریافته در فرمت JSON.
  - `configs.csv`: داده‌ها در فرمت CSV برای تحلیل ساده‌تر.
- **کشینگ هوشمند**: داده‌های دریافت‌شده برای ۱۰ دقیقه کش می‌شن تا درخواست‌های غیرضروری به سرور کاهش پیدا کنه.
- **اجرای خودکار**: با GitHub Actions، فایل‌های خروجی هر ۵ دقیقه به‌روزرسانی می‌شن (فقط در صورت تغییر).
- **لاگینگ جذاب**: لاگ‌های رنگی با استفاده از پکیج `chalk` برای تجربه کاربری بهتر.
- **مدیریت خطا**: خطاها به‌خوبی مدیریت و لاگ می‌شن.

---

## ساختار پروژه

```
project-root/
│
├── src/
│   ├── parsers/
│   │   ├── ssParser.js
│   │   ├── vmessParser.js
│   │   ├── vlessParser.js
│   │   └── index.js          # تجمیع تمام پارسرها و export فانکشن parseURL اصلی
│   │
│   ├── fetcher/
│   │   └── fetchSubscription.js  # دریافت دیتا از اینترنت + کش
│   │
│   ├── processors/
│   │   └── dataProcessor.js  # پردازش داده‌ها، فیلتر، حذف تکراری، خروجی فایل
│   │
│   ├── utils/
│   │   └── fileUtils.js      # توابع عمومی ذخیره‌سازی فایل و ...
│   │
│   └── constants.js          # کانستنت‌های پروژه (کش تایم، فیلتر کشور و ...)
│
├── .github/
│   └── workflows/
│       └── updateConfigs.yml  # فایل اکشن برای اجرای هر 5 دقیقه
│
├── cache/                    # محل ذخیره کش (بهتر جدا باشه)
│   └── cache.json
│
├── outputs/                  # محل ذخیره خروجی‌های txt, json, csv
│   ├── configs.txt
│   ├── configs.json
│   └── configs.csv
│
├── package.json
└── README.md
```

---

## فایل‌های خروجی و ویژگی‌هاشون

پروژه سه فایل خروجی اصلی در پوشه `output/` تولید می‌کنه:

### ۱. `configs.txt`

- **فرمت**: متن خام (Plain Text)
- **محتوا**: لیست لینک‌های ساب‌اسکریپشن فیلترشده و بدون تکرار، هر لینک در یک خط.
- **ویژگی‌ها**:
  - ساده و قابل‌استفاده در کلاینت‌هایی مثل V2Ray یا Shadowsocks که لینک‌های خام رو می‌پذیرن.
  - مناسب برای کپی مستقیم یا وارد کردن به نرم‌افزارهای VPN.
  - سبک و کم‌حجم.
- **کاربرد**:
  - **برای کاربران نهایی**: لینک‌ها رو مستقیماً در کلاینت‌های VPN کپی کنید.
  - **برای اسکریپت‌ها**: می‌تونید این فایل رو در اسکریپت‌های دیگه برای پردازش خودکار لینک‌ها بخونید.
  - مثال:
    ```
    ss://method:password@server:port#Germany
    vmess://base64-encoded-data#Germany
    ```

### ۲. `configs.json`

- **فرمت**: JSON
- **محتوا**: آرایه‌ای از اشیاء که هر کدوم شامل اطلاعات ساختاریافته یه لینک ساب‌اسکریپشنه:
  - `id`: شناسه یکتا (UUID)
  - `type`: نوع پروتکل (ss، vmess، vless، trojan)
  - `tag`: برچسب لینک (مثل Germany)
  - `server`: آدرس سرور
  - `port`: پورت سرور
  - `raw`: لینک خام
- **ویژگی‌ها**:
  - ساختاریافته و مناسب برای پردازش برنامه‌نویسی.
  - قابل‌استفاده در APIها یا برنامه‌های وب.
  - خوانا با فرمت زیبا (pretty-printed).
- **کاربرد**:
  - **برای توسعه‌دهنده‌ها**: می‌تونید این فایل رو در برنامه‌های خودتون (مثل اپ‌های Node.js یا Python) parse کنید.
  - **برای API**: می‌تونید این فایل رو به‌عنوان منبع داده برای یه API وب استفاده کنید.
  - مثال:
    ```json
    [
      {
        "id": "550e8400-e29b-41d4-a716-446655440000",
        "type": "ss",
        "tag": "Germany",
        "server": "example.com",
        "port": 8080,
        "raw": "ss://method:password@example.com:8080#Germany"
      }
    ]
    ```

### ۳. `configs.csv`

- **فرمت**: CSV (Comma-Separated Values)
- **محتوا**: جدولی با ستون‌های `id`، `type`، `tag`، `server`، `port` و `raw`.
- **ویژگی‌ها**:
  - مناسب برای تحلیل داده‌ها در ابزارهایی مثل Excel، Google Sheets یا پایگاه‌های داده.
  - فیلدهای متنی به‌درستی با نقل‌قول‌ها (`"`) فرمت شدن تا از خطاهای CSV جلوگیری بشه.
  - قابل‌استفاده برای وارد کردن به سیستم‌های مدیریت داده.
- **کاربرد**:
  - **تحلیل داده‌ها**: لینک‌ها رو در نرم‌افزارهای تحلیل داده (مثل Power BI یا Tableau) وارد کنید.
  - **اتوماسیون**: برای وارد کردن داده‌ها به دیتابیس یا ابزارهای دیگر.
  - مثال:
    ```
    id,type,tag,server,port,raw
    "550e8400-e29 Chhamednourzaei / Config Parser Bot
    ```

---

## حقوق کپی‌رایت

تمامی حقوق این ریپازیتوری طبق قانون کپی‌رایت بین دو اکانت گیت‌هاب زیر محفوظ است:

- [NamiraNet](https://github.com/NamiraNet)
- [hamednourzaei](https://github.com/hamednourzaei)

این ریپازیتوری تحت قانون کپی‌رایت بین این دو طرف قرار دارد و هیچ‌گونه استفاده‌ای خارج از شرایط مجاز کپی‌رایت این پروژه نمی‌تواند صورت گیرد. برای اطلاعات بیشتر در مورد شرایط استفاده، لطفاً با دارندگان حقوق کپی‌رایت تماس بگیرید.

---

## تماس

برای سوالات یا پیشنهادات، یه Issue در مخزن GitHub باز کنید یا با اکانت‌های [NamiraNet](https://github.com/NamiraNet) یا [hamednourzaei](https://github.com/hamednourzaei) تماس بگیرید.

🚀 **لذت ببرید!**
